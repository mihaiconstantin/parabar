<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Start a Backend — start_backend • parabar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Start a Backend — start_backend"><meta name="description" content="This function can be used to start a backend. Check out the Details
section for more information."><meta property="og:description" content="This function can be used to start a backend. Check out the Details
section for more information."><meta property="og:image" content="http://parabar.mihaiconstantin.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">parabar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/comparison.html">Comparison with other approaches</a></li>
    <li><a class="dropdown-item" href="../articles/foreach.html">Using `parabar` with `foreach`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mihaiconstantin/parabar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Start a Backend</h1>
      <small class="dont-index">Source: <a href="https://github.com/mihaiconstantin/parabar/blob/v1.4.2/R/exports.R" class="external-link"><code>R/exports.R</code></a></small>
      <div class="d-none name"><code>start_backend.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function can be used to start a backend. Check out the <strong>Details</strong>
section for more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">start_backend</span><span class="op">(</span><span class="va">cores</span>, cluster_type <span class="op">=</span> <span class="st">"psock"</span>, backend_type <span class="op">=</span> <span class="st">"async"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>A positive integer representing the number of cores to use
(i.e., the number of processes to start). This value must be between <code>2</code> and
<code>parallel::detectCores() - 1</code>.</p></dd>


<dt id="arg-cluster-type">cluster_type<a class="anchor" aria-label="anchor" href="#arg-cluster-type"></a></dt>
<dd><p>A character string representing the type of cluster to
create. Possible values are <code>"fork"</code> and <code>"psock"</code>. Defaults to <code>"psock"</code>.
See the section <strong>Cluster Type</strong> for more information.</p></dd>


<dt id="arg-backend-type">backend_type<a class="anchor" aria-label="anchor" href="#arg-backend-type"></a></dt>
<dd><p>A character string representing the type of backend to
create. Possible values are <code>"sync"</code> and <code>"async"</code>. Defaults to <code>"async"</code>.
See the section <strong>Backend Type</strong> for more information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="Backend.html">Backend</a></code> instance that can be used to parallelize computations.
The methods available on the <code><a href="Backend.html">Backend</a></code> instance are defined by the
<code><a href="BackendService.html">BackendService</a></code> interface.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is a convenience wrapper around the lower-lever API of
<code><a href="parabar-package.html">parabar</a></code> aimed at developers. More specifically, this function
uses the <code><a href="Specification.html">Specification</a></code> class to create a specification object,
and the <code><a href="BackendFactory.html">BackendFactory</a></code> class to create a <code><a href="Backend.html">Backend</a></code>
instance based on the specification object.</p>
    </div>
    <div class="section level2">
    <h2 id="cluster-type">Cluster Type<a class="anchor" aria-label="anchor" href="#cluster-type"></a></h2>


<p>The cluster type determines the type of cluster to create. The requested
value is validated and passed to the <code>type</code> argument of the
<code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code> function. The following table lists the possible
values and their corresponding description.</p><table class="table table"><tr><td><strong>Cluster</strong></td><td><strong>Description</strong></td></tr><tr><td><code>"fork"</code></td><td>For Unix-based systems.</td></tr><tr><td><code>"psock"</code></td><td>For Windows-based systems.</td></tr></table></div>
    <div class="section level2">
    <h2 id="backend-type">Backend Type<a class="anchor" aria-label="anchor" href="#backend-type"></a></h2>


<p>The backend type determines the type of backend to create. The requested
value is passed to the <code><a href="BackendFactory.html">BackendFactory</a></code> class, which returns a
<code><a href="Backend.html">Backend</a></code> instance of the desired type. The following table lists
the possible backend types and their corresponding description.</p><table class="table table"><tr><td><strong>Backend</strong></td><td><strong>Description</strong></td><td><strong>Implementation</strong></td><td><strong>Progress</strong></td></tr><tr><td><code>"sync"</code></td><td>A synchronous backend.</td><td><code><a href="SyncBackend.html">SyncBackend</a></code></td><td>no</td></tr><tr><td><code>"async"</code></td><td>An asynchronous backend.</td><td><code><a href="AsyncBackend.html">AsyncBackend</a></code></td><td>yes</td></tr></table><p>In a nutshell, the difference between the two backend types is that for the
synchronous backend the cluster is created in the main process, while for the
asynchronous backend the cluster is created in a backend <code>R</code> process using
<code><a href="https://callr.r-lib.org/reference/r_session.html" class="external-link">callr::r_session</a></code>. Therefore, the synchronous backend is blocking the main
process during task execution, while the asynchronous backend is
non-blocking. Check out the implementations listed in the table above for
more information. All concrete implementations extend the
<code><a href="Backend.html">Backend</a></code> abstract class and implement the
<code><a href="BackendService.html">BackendService</a></code> interface.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="peek.html">peek()</a></code>, <code><a href="export.html">export()</a></code>, <code><a href="evaluate.html">evaluate()</a></code>,
<code><a href="clear.html">clear()</a></code>, <code><a href="configure_bar.html">configure_bar()</a></code>, <code><a href="par_sapply.html">par_sapply()</a></code>,
<code><a href="par_lapply.html">par_lapply()</a></code>, <code><a href="par_apply.html">par_apply()</a></code>, <code><a href="stop_backend.html">stop_backend()</a></code>,
and <code><a href="BackendService.html">BackendService</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create an asynchronous backend.</span></span></span>
<span class="r-in"><span><span class="va">backend</span> <span class="op">&lt;-</span> <span class="fu">start_backend</span><span class="op">(</span>cores <span class="op">=</span> <span class="fl">2</span>, cluster_type <span class="op">=</span> <span class="st">"psock"</span>, backend_type <span class="op">=</span> <span class="st">"async"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check that the backend is active.</span></span></span>
<span class="r-in"><span><span class="va">backend</span><span class="op">$</span><span class="va">active</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if there is anything on the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="peek.html">peek</a></span><span class="op">(</span><span class="va">backend</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a dummy variable.</span></span></span>
<span class="r-in"><span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"parabar"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Export the `name` variable in the current environment to the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="export.html">export</a></span><span class="op">(</span><span class="va">backend</span>, <span class="st">"name"</span>, <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove the dummy variable from the current environment.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the backend to see that the variable has been exported.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="peek.html">peek</a></span><span class="op">(</span><span class="va">backend</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "name"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "name"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run an expression on the backend.</span></span></span>
<span class="r-in"><span><span class="co"># Note that the symbols in the expression are resolved on the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="evaluate.html">evaluate</a></span><span class="op">(</span><span class="va">backend</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Print the name.</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Hello, "</span>, <span class="va">name</span>, <span class="st">"!"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hello, parabar!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hello, parabar!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Clear the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="clear.html">clear</a></span><span class="op">(</span><span class="va">backend</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check that there is nothing on the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="peek.html">peek</a></span><span class="op">(</span><span class="va">backend</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use a basic progress bar (i.e., see `parabar::Bar`).</span></span></span>
<span class="r-in"><span><span class="fu"><a href="configure_bar.html">configure_bar</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"basic"</span>, style <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run a task in parallel (i.e., approx. 1.25 seconds).</span></span></span>
<span class="r-in"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="par_sapply.html">par_sapply</a></span><span class="op">(</span><span class="va">backend</span>, x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Sleep a bit.</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Compute and return.</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print the output.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  2  3  4  5  6  7  8  9 10 11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stop the backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="stop_backend.html">stop_backend</a></span><span class="op">(</span><span class="va">backend</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check that the backend is not active.</span></span></span>
<span class="r-in"><span><span class="va">backend</span><span class="op">$</span><span class="va">active</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://mihaiconstantin.com" class="external-link">Mihai Constantin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

